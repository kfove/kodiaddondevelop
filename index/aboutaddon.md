# 关于插件











## 1.关于插件

Kodi 插件是可以从 Kodi GUI 内部运行的扩展。 它们通常由第三方开发人员编写，如果插件不违反任何规则或政策以包含在官方 Kodi 存储库中，如果插件开发人员提交，它可以发布到我们的官方存储库。 插件也可以在其他存储库中发布，或者作为独立的 zip 文件在网咯上发布。 插件的示例包括视频网站流、刮板、皮肤和脚本。 Kodi 插件通常是用 python 编写的(python2)。 还有用于 PVR、输入流、音频编码器、屏幕保护程序等应用程序的二进制插件。每次发布新版本的 Kodi 时，我们都会添加可能导致兼容性中断的新功能。 由作者来更新他们的插件以保持兼容。



## 2.插件系统

插件分三大类

- 系统插件 - 由kodi预安装，这类插件只能随系统更新而更新
- 官方插件库插件 - 插件储存在官方库的容器中，kodi自带
- 私人库插件 - 内含多种第三方开发插件，不自带通过自己安装，安装前需打开未知源安装（系统-->插件-->未知源）

默认情况下，官方存储库插件只会从官方存储库自动更新。 在测试存储库的情况下，设置 System->Add-ons->Update official add-ons from 必须设置为 Any repositories 以允许官方附加组件从私有存储库自动更新到更高版本。 从私有存储库安装的附加组件只能从他们自己的存储库或官方存储库自动更新。 如果相同的附加组件包含在两个不同的私有存储库中，并且安装的版本来自其中一个存储库，则安装另一个版本的唯一方法是通过附加组件信息 UI 中的更新按钮。



## 3.插件运用python语言

Kodi 包括一个内置的 [Python](https://zh.m.wikipedia.org/zh-hans/Python) 解释器，允许用户开发与 Kodi 仪表板轻松、干净地交互的附加组件（脚本和插件）。 这些附加组件可以扩展 Kodi 的功能，而无需丰富的编程经验或能力。 虽然您可能对浏览 Kodi 源代码和提交补丁（甚至错误报告）感到不舒服，但您可以使用这些页面中提供的信息，通过几个小时的练习来学习如何编写脚本或插件。 本页旨在为新开发人员介绍 Kodi Python，并为更有经验的程序员提供快速参考。 如果您对编程不感兴趣，您可能希望访问此页面以获取有关作为最终用户安装和使用 Python 附加组件的信息。



## 4.PyDocs

包含类和函数的最新 Kodi python API 文档“PyDocs”是从 XBMC 的源代码自动生成的，可以在此处找到（并非所有函数都在以前的版本中可用）：<https://codedocs.xyz/xbmc/xbmc/group__python.html>

## 5.Python 插件与脚本

请不要混淆“插件”和“脚本”。 在开始编写插件之前了解它们之间的区别非常重要。 与脚本（基本上可以执行任何操作）不同，插件并没有真正为 Kodi 提供新功能，而是为 Kodi 提供目录列表（例如: 您的电影库）。 此列表可以包含文件夹和文件。 当用户单击文件夹时，kodi 将再次运行插件以检索另一个列表。 如果单击文件，kodi 将直接播放文件或调用插件以检索可播放的 url。 另一个区别是脚本可以创建自己的 gui（皮肤），而插件不能。 插件列表显示在当前皮肤中。 不要试图混合和匹配脚本和插件功能，因为那只会给你奇怪的错误消息。

## 6.脚本开发

如果您不熟悉 Python 编程（或刚接触 Kodi Python），最简单的入门方法是使用脚本。以 Kodi Python 脚本编写的传统 Hello World 程序如下所示：

'''

```python
print("Hello World!")
```

'''

这与您在 Python 命令行中输入的代码相同，因为 Kodi 运行功能齐全的标准 Python 解释器（有关当前版本号和包含模块的更多信息，请参阅下面的环境详细信息）。 如果您已经熟悉 Python 编程，那么唯一的新挑战是学习允许您从 Kodi 收集信息并操作图形用户界面 (GUI) 的自定义模块。 有一些优秀的教程可以向您介绍 Kodi 脚本（以及一般的 Python）。
